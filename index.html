<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Álbumes de Travis Scott</title>
  <style>
    /* Definición de variables de color */
    :root {
      --negro: #AD0000;
      --azul: #F54927;
      --hueso: #FFFFFF;
      --marfil: #F54927; 
      --blanco: #FFFFFF;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--marfil);
      color: var(--negro);
    }

    header {
      background-color: var(--azul);
      color: var(--blanco);
      padding: 1rem 2rem;
      text-align: center;
    }

    nav {
      background-color: var(--negro);
      padding: 0.5rem 2rem;
      display: flex;
      justify-content: center;
      gap: 2rem;
    }

    nav a {
      color: var(--blanco);
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
    }

    nav a:hover {
      color: var(--azul);
    }

    /* Estilo para el contenedor principal de contenido */
    main {
      padding: 2rem;
    }

    /* Estilo para el canvas donde se dibujará la imagen */
    canvas {
        border: 5px solid var(--negro);
        border-radius: 8px;
        background-color: var(--negro);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        max-width: 90%;
        display: block; /* Asegura que el canvas se centre correctamente con el div padre */
        margin: 0 auto;
    }

    /* Estilo para los botones de control */
    .controles {
        margin-top: 25px;
        display: flex;
        gap: 15px;
        justify-content: center; /* Centra los botones */
    }
    
    button {
        padding: 12px 25px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        border: none;
        border-radius: 6px;
        color: var(--blanco);
        background-color: var(--negro); 
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    button:hover {
        background-color: var(--azul);
        transform: scale(1.05);
    }
  
    /* Clases de utilidad para alineación de texto */
    .center-text { text-align: center; }
    .left-text   { text-align: left; }
    .right-text  { text-align: right; }
    .justify-text{ text-align: justify; }

    /* Estilos para el formulario */
    form {
        max-width: 500px;
        margin: 2rem auto; /* Centra el formulario en la página */
        padding: 2rem;
        background-color: floralwhite; /* Usamos floralwhite como estaba en tu código original */
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
    }
    input[type="text"], input[type="email"], input[type="tel"] {
        width: 100%;
        padding: 0.75rem;
        margin-bottom: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box; /* Asegura que el padding no aumente el width */
    }
    fieldset {
        border: 1px solid var(--negro);
        padding: 1rem;
        border-radius: 5px;
    }
    legend {
        font-weight: bold;
        color: var(--azul);
        padding: 0 0.5rem;
    }

    footer {
      background-color: var(--negro);
      color: var(--blanco);
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }

	</style>
</head>
<body>
	
<header>
    <h1> Travis Scott </h1>
    <p>Sus mejores álbumes y Traks Unreleased </p>
</header>

<nav>
    <a href="file:///Macintosh HD/Users/d/Downloads/HOME.html">Inicio</a>
    <a href="file:///Macintosh HD/Users/f/Downloads/CATALOGO.html">Catálogo</a>
    <a href="file:///Macintosh HD/Users/fr/Downloads/SUCURSALES.html">Sucursales</a>
</nav>
	
<main>
  <section>
    <article>
        <!-- Iframe de Spotify -->
        <iframe data-testid="embed-iframe" style="border-radius:12px; margin-top: 20px;" src="open.spotify.com" width="100%" height="352" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        
        <div class="center-text">
            <h1 style="background-color:var(--blanco); display: inline-block; padding: 0.5rem;"> Sus mejores Álbumes </h1>
            
            <canvas id="miCanvas" width="600" height="400">
                Tu navegador no soporta el elemento canvas.
            </canvas>
           
            <div class="controles"> 
                <button id="btnElefante">AstroWorld</button>
                <button id="btnGato">Rodeo</button>
                <button id="btnPerro">Utopia</button>
            </div>
        </div>
        
        <!-- Script para manejar el Canvas y los botones -->
        <script>
            // --- LÓGICA DE JAVASCRIPT DEL CANVAS ---

            const canvas = document.getElementById('miCanvas');
            const context = canvas.getContext('2d'); 
            const btnElefante = document.getElementById('btnElefante');
            const btnGato = document.getElementById('btnGato');
            const btnPerro = document.getElementById('btnPerro');

            const urlElefante = 'm.media-amazon.com';
            const urlGato = 'gcp-images.merchbar.com';
            const urlPerro = 'blackroom.boutique';

            function cargarImagenEnCanvas(url) {
                const imagen = new Image(); 
                imagen.src = url; 

                imagen.onload = () => {
                    context.clearRect(0, 0, canvas.width, canvas.height);
                    context.drawImage(imagen, 0, 0, canvas.width, canvas.height);
                };

                imagen.onerror = () => {
                    console.error('Error al cargar la imagen desde: ' + url);
                    context.clearRect(0, 0, canvas.width, canvas.height);
                    context.font = "16px Arial";
                    context.fillStyle = "red";
                    context.fillText("No se pudo cargar la imagen.", 20, 40);
                };
            }

            btnElefante.addEventListener('click', () => {
                cargarImagenEnCanvas(urlElefante);
            });

            btnGato.addEventListener('click', () => {
                cargarImagenEnCanvas(urlGato);
            });

            btnPerro.addEventListener('click', () => {
                cargarImagenEnCanvas(urlPerro);
            });
            
            context.font = "16px Arial"; 
            context.fillStyle = "white"; 
            context.textAlign = "center";
            context.fillText("Selecciona un álbum para ver la portada", canvas.width / 2, canvas.height / 2);
        </script>
    </article>

    <!-- Sección del formulario -->
    <div class="left-text">
        <h1 style="background-color:floralwhite; padding: 0.5rem; display: inline-block;">
            Se parte de esto
        </h1>

        <form id="Travisform"> 
            <fieldset>
                <legend>Travis shop</legend>
                
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="usuario_nombre" placeholder="Nombre (s)">
                
                <label for="correo">Correo electrónico:</label>
                <input type="email" id="correo" name="correo" placeholder="ejemplo@.com" required>
                
                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" placeholder="12-223-2987" required>
            </fieldset>
            <br>
            <button type="submit">Enviar Formulario</button>
        </form>
    </div>
  </section>
</main>
    
<footer>
    <p>&copy; 2025 Travis Scott Fan Page</p>
</footer>

<!-- Script para manejar el Formulario con Google Apps Script -->
<script>
    // URL de tu Google Apps Script
    const scriptURL = 'script.google.com';
    
    // Obtenemos el formulario por su ID
    const form = document.getElementById('Travisform');

    form.addEventListener('submit', e => {
        e.preventDefault(); // Detiene el envío normal
        
        const submitButton = form.querySelector('button[type="submit"]');
        submitButton.disabled = true;
        submitButton.textContent = 'Enviando...';
        
        // Enviamos los datos usando Fetch API
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
                console.log('Exito!', response);
                submitButton.disabled = false;
                submitButton.textContent = 'Enviado con exito';
                form.reset(); // Limpia el formulario después del envío
                setTimeout(() => {
                    submitButton.textContent = 'Enviar Formulario';
                }, 3000);
            })
            .catch(error => {
                console.error('Error!', error.message);
                submitButton.disabled = false;
                submitButton.textContent = 'Error al enviar';
            });
    });
</script>

</body>
</html>
